<% layout('/layouts/boilerplate') -%>


    <style>
        .hero {
            position: relative;
            width: 100%;
            height: 50vh;
            /* Adjust height based on need */
            background: url('/assets/img6.jpg') center/cover no-repeat;
            /* Replace with your image */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            display: none;
        }

        .hero-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            /* Dark overlay for better readability */
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 20px;
        }

        .hero-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            max-width: 80%;
        }

        .btn-warning {
            background-color: #ffb703;
            /* A warm, attractive color */
            border: none;
            font-size: 1rem;
            font-weight: 600;
            padding: 10px 20px;
            margin-top: 10px;
        }

        /*  */

        /* Mobile Optimizations */
        @media (max-width: 576px) {
            .hero-section {
                display: none;
            }

            .hero {
                display: block;
            }
        }
    </style>

    <body>
        <!-- Hero Section -->
        <div class="hero mt-3">
            <div class="hero-overlay">
                <div class="hero-content text-center">
                    <h1 class="hero-title">Find Your Perfect Stay</h1>
                    <p class="hero-subtitle">Discover amazing places to stay at the best prices.</p>
                    <a href="#listings" class="btn btn-warning btn-lg rounded-pill">Explore Now</a>
                </div>
            </div>
        </div>

        <!-- Hero Section -->
        <section class="hero-section mt-4">

            <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="/assets/img1.jpg" class="d-block w-100 hero-img" alt="Hero Image 1">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/assets/img2.jpg" class="d-block w-100 hero-img" alt="Hero Image 2">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/assets/img3.jpg" class="d-block w-100 hero-img" alt="Hero Image 3">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/assets/img4.jpg" class="d-block w-100 hero-img" alt="Hero Image 4">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/assets/img5.jpg" class="d-block w-100 hero-img" alt="Hero Image 5">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/assets/img6.jpg" class="d-block w-100 hero-img" alt="Hero Image 6">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/assets/img7.jpg" class="d-block w-100 hero-img" alt="Hero Image 7">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="/assets/img8.jpg" class="d-block w-100 hero-img" alt="Hero Image 8">
                        <div class="hero-content">
                            <h1>Find Your Perfect Stay</h1>
                            <p>Discover amazing places to stay at the best prices.</p>
                            <a href="#listings" class="btn btn-warning">Explore Now</a>
                        </div>
                    </div>
                </div>

                <!-- Navigation Controls -->
                <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>
        </section>

        <% if (location && allListings.length> 0) { %>
            <div class="container">
                <h3 class="text-center mt-4 border-bottom py-2 fw-semibold">Showing results for "<%= location %>"</h3>

            </div>
            <% } %>


                <!-- Listings Section -->
                <div id="listings" class="listings-container">

                    <% for (let listing of allListings) { %>
                        <a href="/listings/<%= listing._id %>" class="listing-link" style="text-decoration: none;">
                            <!-- Improved Listing Card -->
                            <div class="listing-card">
                                <!-- Listing Image -->
                                <div class="listing-image">
                                    <img src="<%= listing.image.url %>" alt="listing_image">
                                    <div class="explore-overlay">Explore More</div>
                                </div>

                                <!-- Listing Details -->
                                <div class="listing-info">
                                    <h3 class="listing-title">
                                        <%= listing.title %>
                                    </h3>
                                    <p class="listing-price">&#8377;<%= listing.price.toLocaleString("en-IN") %> / Night
                                    </p>
                                </div>
                            </div>

                        </a>
                        <% } %>

                            <% if (allListings.length===0) { %>
                                <h3 class="text-center mt-5 text-muted">No listings found for "<%= location %>"</h3>
                                <% } %>
                </div>
    </body>